{"componentChunkName":"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx","path":"/github/github-actions-env","result":{"data":{"post":{"__typename":"MdxPost","slug":"/github/github-actions-env","title":"Github actions environment variables","date":"2020.09.25","tags":[{"name":"Blog","slug":"blog"},{"name":"Github","slug":"github"},{"name":"Gatsby","slug":"gatsby"},{"name":"Google Analytics","slug":"google-analytics"},{"name":"Google AdSense","slug":"google-ad-sense"}],"description":null,"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Github actions environment variables\",\n  \"date\": \"2020-09-25T00:00:00.000Z\",\n  \"tags\": [\"Blog\", \"Github\", \"Gatsby\", \"Google Analytics\", \"Google AdSense\"],\n  \"slug\": \"github/github-actions-env\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h3\", null, \"Google analytics\\uC640 adsense \\uC815\\uBCF4\\uB97C .env\\uB85C \\uAD00\\uB9AC\\uD558\\uB294\\uB370 \\uBC30\\uD3EC\\uB41C \\uBE14\\uB85C\\uADF8\\uC5D0 \\uC801\\uC6A9\\uC774 \\uC548\\uB418\\uB294 \\uC774\\uC288\\uAC00 \\uC788\\uC5C8\\uB2E4.\"), mdx(\"p\", null, \"\\uB0B4 \\uACBD\\uC6B0 plugin\\uC744 \\uC0AC\\uC6A9\\uD558\\uB294\\uB370 \\uC544\\uB798\\uC640 \\uAC19\\uC740 \\uBC29\\uC2DD\\uC73C\\uB85C .env\\uB97C \\uCC38\\uC870\\uD558\\uAC8C \\uD574\\uB1A8\\uB2E4. \\uADF8\\uB798\\uC11C \\uC2E4\\uC81C \\uBC30\\uD3EC \\uC2DC .env\\uAC00 \\uBC30\\uD3EC\\uB418\\uC9C0 \\uC54A\\uC73C\\uBBC0\\uB85C plugin\\uC774 \\uC815\\uC0C1\\uB3D9\\uC791\\uD558\\uC9C0 \\uC54A\\uC558\\uB2E4.\"), mdx(\"p\", null, \"gatsby.config.js\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"{\\n  resolve: `gatsby-plugin-google-analytics`,\\n  options: {\\n    trackingId: process.env.GOOGLE_ANALYTICS_ID,\\n  },\\n},\\n\")), mdx(\"p\", null, \"\\uADF8\\uB798\\uC11C \\uC544\\uB798\\uC640 \\uAC19\\uC740 \\uC804\\uB7B5\\uC73C\\uB85C env\\uB97C \\uAD00\\uB9AC\\uD558\\uB3C4\\uB85D \\uC218\\uC815\\uD588\\uB2E4.\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"development\", mdx(\"ol\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"gatsby.config.js\"), \"\\uAC00 local\\uC758 \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \".env\"), \" \\uD30C\\uC77C \\uCC38\\uC870\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"production\", mdx(\"ol\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"github secrets\"), \"\\uC5D0 .env\\uC5D0\\uC11C \\uC0AC\\uC6A9\\uD558\\uB358 \\uD658\\uACBD\\uBCC0\\uC218 \\uCD94\\uAC00\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"github actions(workflow) \\uB3D9\\uC791 \\uC2DC secrets\\uB97C \\uCC38\\uC870\\uD558\\uC5EC env\\uCD94\\uAC00\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"development\\uC640 \\uB3D9\\uC77C\\uD558\\uAC8C \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"gatsby.config.js\"), \"\\uAC00 production\\uC758 \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \".env\"), \" \\uD30C\\uC77C \\uCC38\\uC870\")))), mdx(\"h3\", null, \"1. \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"github secrets\"), \"\\uC5D0 .env\\uC5D0\\uC11C \\uC0AC\\uC6A9\\uD558\\uB358 \\uD658\\uACBD\\uBCC0\\uC218 \\uCD94\\uAC00\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"/images/github-secrets.png\",\n    \"alt\": \"github-secrets\"\n  }))), mdx(\"h3\", null, \"2. github actions(workflow) \\uB3D9\\uC791 \\uC2DC secrets\\uB97C \\uCC38\\uC870\\uD558\\uC5EC env\\uCD94\\uAC00\"), mdx(\"p\", null, \".github/workflows/main.yml\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-yml\"\n  }), \"name: Gatsby Publish\\n\\non:\\n  push:\\n    branches:\\n      - develop\\n\\njobs:\\n  build:\\n    runs-on: ubuntu-latest\\n    steps:\\n      - uses: actions/checkout@v1\\n      - uses: enriikke/gatsby-gh-pages-action@v2\\n        with:\\n          access-token: ${{ secrets.ACCESS_TOKEN }}\\n    env:\\n      GOOGLE_ANALYTICS_ID: ${{ secrets.GOOGLE_ANALYTICS_ID }}\\n      GOOGLE_ADSENSE_ID: ${{ secrets.GOOGLE_ADSENSE_ID }}\\n\")), mdx(\"h2\", null, \"\\uCC38\\uACE0\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://docs.github.com/en/actions/reference/environment-variables\"\n  }), \"https://docs.github.com/en/actions/reference/environment-variables\"))));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"Google analytics와 adsense 정보를 .env로 관리하는데 배포된 블로그에 적용이 안되는 이슈가 있었다. 내 경우 plugin을 사용하는데 아래와 같은 방식으로 .env를 참조하게 해놨다. 그래서 실제 배포 시 .env…","timeToRead":1,"banner":null}},"pageContext":{"slug":"/github/github-actions-env","formatString":"YYYY.MM.DD"}},"staticQueryHashes":["3090400250","3090400250","318001574"]}